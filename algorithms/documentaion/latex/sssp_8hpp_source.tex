\hypertarget{sssp_8hpp_source}{}\doxysection{sssp.\+hpp}
\label{sssp_8hpp_source}\index{sssp.hpp@{sssp.hpp}}
\mbox{\hyperlink{sssp_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{ * This file uses algorithm implementation from graphblast, which is available under}}
\DoxyCodeLine{3 \textcolor{comment}{ * "{}Apache License 2.0"{} license. For details, see https://github.com/gunrock/graphblast/blob/master/LICENSE}}
\DoxyCodeLine{4 \textcolor{comment}{ * */}}
\DoxyCodeLine{5 }
\DoxyCodeLine{16 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{17 }
\DoxyCodeLine{19 }
\DoxyCodeLine{20 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespacelablas}{lablas}} \{}
\DoxyCodeLine{21 }
\DoxyCodeLine{23 }
\DoxyCodeLine{24 }
\DoxyCodeLine{25     \textcolor{keyword}{namespace }algorithm \{}
\DoxyCodeLine{26 }
\DoxyCodeLine{28 }
\DoxyCodeLine{37 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{38 \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacelablas_1_1algorithm_a948334b405fc701d3b4d96910f9c7ea2}{sssp\_bellman\_ford\_GBTL}}(Vector<T> *\_distances,}
\DoxyCodeLine{39                             \textcolor{keyword}{const} Matrix <T> *\_matrix,}
\DoxyCodeLine{40                             Index \_source)}
\DoxyCodeLine{41 \{}
\DoxyCodeLine{42     lablas::Descriptor desc;}
\DoxyCodeLine{43 }
\DoxyCodeLine{44     \_distances-\/>fill(std::numeric\_limits<T>::max());}
\DoxyCodeLine{45     \_distances-\/>set\_element(0.f, \_source);}
\DoxyCodeLine{46 }
\DoxyCodeLine{47     \textcolor{keywordflow}{for}(Index k = 0; k < \_matrix-\/>nrows() -\/ 1; ++k)}
\DoxyCodeLine{48     \{}
\DoxyCodeLine{49         vxm<T, T, T, T>(\_distances, NULL, lablas::minimum<T>(), MinimumPlusSemiring<T>(), \_distances, \_matrix, \&desc);}
\DoxyCodeLine{50     \}}
\DoxyCodeLine{51 \}}
\DoxyCodeLine{52 }
\DoxyCodeLine{54 }
\DoxyCodeLine{55 }
\DoxyCodeLine{56 }
\DoxyCodeLine{65 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{66 \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacelablas_1_1algorithm_aeed8317efd7a40cf6b9d601246ae8aba}{sssp\_bellman\_ford\_gbkun}}(Vector<T> *\_distances,}
\DoxyCodeLine{67                              Matrix <T> *\_matrix,}
\DoxyCodeLine{68                              Index \_source)}
\DoxyCodeLine{69 \{}
\DoxyCodeLine{70     lablas::Descriptor desc;}
\DoxyCodeLine{71 }
\DoxyCodeLine{72     Vector<T> new\_distances(\_matrix-\/>ncols());}
\DoxyCodeLine{73     Vector<T> mask(\_matrix-\/>ncols());}
\DoxyCodeLine{74 }
\DoxyCodeLine{75     \_distances-\/>fill(std::numeric\_limits<T>::max());}
\DoxyCodeLine{76     \_distances-\/>set\_element(0.f, \_source);}
\DoxyCodeLine{77     new\_distances.fill(std::numeric\_limits<T>::max());}
\DoxyCodeLine{78     new\_distances.set\_element(0.f, \_source);}
\DoxyCodeLine{79 }
\DoxyCodeLine{80     \textcolor{keywordflow}{for}(Index k = 0;; k++)}
\DoxyCodeLine{81     \{}
\DoxyCodeLine{82         SAVE\_STATS((vxm<T, T, T, T>(\&new\_distances, NULL, minimum<T>(), MinimumPlusSemiring<T>(),}
\DoxyCodeLine{83                 \_distances, \_matrix, \&desc));, \textcolor{stringliteral}{"{}sssp\_vxm"{}}, (\textcolor{keyword}{sizeof}(T)*2 + \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{size\_t})), 1, \_matrix);}
\DoxyCodeLine{84         eWiseAdd<T, T, T, T>(\&mask, NULL, \textcolor{keyword}{nullptr}, less<T>(), \&new\_distances, \_distances, \&desc);}
\DoxyCodeLine{85 }
\DoxyCodeLine{86         T succ = 0;}
\DoxyCodeLine{87         reduce<T, T>(\&succ, second<T>(), PlusMonoid<T>(), \&mask, \&desc);}
\DoxyCodeLine{88         std::cout << \textcolor{stringliteral}{"{}succ "{}} << succ << endl;}
\DoxyCodeLine{89 }
\DoxyCodeLine{90         \textcolor{keywordflow}{if}((succ == 0) || (k >= (\_matrix-\/>nrows() -\/ 1)))}
\DoxyCodeLine{91         \{}
\DoxyCodeLine{92             cout << \textcolor{stringliteral}{"{}converged after << "{}} << k << \textcolor{stringliteral}{"{} / "{}} <<  \_matrix-\/>nrows() -\/ 1 << \textcolor{stringliteral}{"{} iterations"{}} << endl;}
\DoxyCodeLine{93             \textcolor{keywordflow}{break};}
\DoxyCodeLine{94         \}}
\DoxyCodeLine{95 }
\DoxyCodeLine{96         \_distances-\/>swap(\&new\_distances);}
\DoxyCodeLine{97     \}}
\DoxyCodeLine{98 \}}
\DoxyCodeLine{99 }
\DoxyCodeLine{100 }
\DoxyCodeLine{102 }
\DoxyCodeLine{103 \}}
\DoxyCodeLine{104 \}}

\end{DoxyCode}
